* **$_FILES** se trata de un array que muestra información sobre la subida del archivo entre ellos los errores **$_FILES['nombrearchivo']['error']**
* **.htaccess** Para modificar los límites establecidos dentro del servidor Apache en **php.ini** accedemos a **.htaccess**

| **index.php** |
|---------------|

```php
<?php
$carpeta="subidas/";
//definimos el posible mensaje de error
$mensaje="";
//comprobamos si se ha enviado el formulario
if(isset($_POST['subir']){
  // var_dump($_FILES);
  // var_dump(current($_FILES));
  require_once 'UploaderClass.php';
  try{
    $subir=new UploaderClass($carpeta);
  }catch (Exception $ex){
    $mensaje=$e->getMessage();
  }
}
?>
<!DOCTYPE html>
<html>
  <head>
    <title>Subir archivos</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
  </head>
  <body>
    <form action="<?php echo $_SERVER['PHP_SELF']; ?>"
          method="post"
          enctype="multipart/form-data">
          <!-- Limitamos el tamaño máximo de envío del archivo del formulario, y lo ocultamos. 
          El valor se limitan en bytes -->
          <input type="hidden" name="MAX_FILE_SIZE" value="100000">
          <label for="nombrearchivo">Selecione su archivo</label>
          <input type="file" name="nombrearchivo" id="nombrearchivo">
          <input type="submit" name="subir" value="Subir archivo">
    </form>
    <?php
    //en caso de existir $mensaje lo imprimimos para mostrarlo.
      if($mensaje){echo $mensaje;}
    ?>
  </body>
</html>
```

| **.htaccess** |
|---------------|


```php
# ampliar el límite de tamaño de subida de los archivos
php_value upload_max_filesize 000000000
```

| **UploaderClass.php** |
|-----------------------|


```php
<?php
class UploaderClass{
  public function __construct($carpeta){
    // comprobamos si la carpeta de subida existe
    if(!files_exists($carpeta)){
      throw new Exception("No hay carpeta de subida");
    }
  }
  public function doUpload(){
    $archivo=current($_FILES);
    if($this->checkFiles($archivo){
      $this->moveFiles(archivo);
    }
  }
  protected function checkFiles($archivo){
    if($archivo['error']==0){
      return true;    
    }else{
      $this->errors($archivo);
      return false;
    }
  }
  protected function errors($archivo){
    switch($archivo['error']){
      case 0: 
         echo "Su archivo se ha subido correctamente";
        break;
      case 2:
        echo $archivo['name']." es demasiado grande"; 
        break;
      case 7:
        echo "No tiene permisos suficientes para subir el archivo"; 
        break;
      default:
        echo $archivo['name']." no se ha podido subir";   
    }
  }
  protected function moveFiles($param){
  
  }
}

```
```php
echo '<pre>';
  print_r($_FILES); // $_FILES se trata de un array que muestra información sobre la subida del archivo entre ellos los errores ['error'];
  echo '</pre>';
  // observamos la información que se nos devuelve a través de la variable $_FILES para obtener información sobre los posibles valores de $_FILES['nombrearchivo']['error']
  
```
